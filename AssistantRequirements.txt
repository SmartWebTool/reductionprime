User feedback:
I received feedback on the usability of the prime reduction calculator. Some users (first time users) often miss some value fields by using the calculator.

A first problem, they missed the Nombre d'adultes. Since the default value is 0, the calculator run without any warning and give a result, which is wrong because there should be at least 1 adult.

A second problem is tnat the user miss the help symbol for any fields (?) and do not understand which value they should enter.

A third problem is that they begin to  fillup the form, then store the entered values, then the next day they restore the memorized values and continue to fillup the form, missing some fields (they jump some  questions over). The calculate give then incorrect results.

Solution Proposal:
My idea is to implement an assistant, like a person who fillup the form by asking the user questions and explaining which answer is expected. The assistant takes all the form fields one after another and asks the user for a value or a selection (couple marié ou célibataire, etc.) and explain the value to be entered.

Assistant Workflow:
1. When the calculator is launched, the assistant check if previous values were allready entered and asks the user if he want to restore these values or delete these one.
2. The assistant take the first form field and display a popup window with 4 parts:
2.1 Part 1 : the prompt corresponding to the field label or Rubrique&Code, ie Statut civil
2.2 Part 2: the explanation corresponding to the content of the contextual help
2.3 Part 3: an input field to enter a value (ie 50000) or a combobox to make a selection (ie célibataire / marié).
2.4 Part 4: button "Suivant" to go to the next question; button "Effacer" to cancel the value and allowing to enter a new value; button "Plus tard" to allow the user to skip the question and respond to it the next round
3. The user read the question prompt, read the explanation text, check the previous entered answer or tip the answer or select an option, then click the button "Suivant"
4. The assistant check the tipped answer and warn the user if the value is incorrect, ie text rather number or negative number rather than positive (exception for field 7.910 which could have negative value equivalent to a debt rather than a fortune).
5. When the assistant comes to the last question, it jumps to the previous skipped answer till all questions are answered.
6. When all questions are answered, the assistant propose to calculate the result with the button Calculer
7. The result layout is exactly the current one. The form layout can be printed with the button "Imprimer"
8. For the questions of section 1, the prompt correspond to the field label
9. For the questions of section 2, the prompt correspond to the field "Rubrique" and the field "Code"
10. The answers are stored locally each time the user enter a response. When the calculator is launched, the stored values are proposed to the user. He can then decide to use these values or cancel the values.
11. At each calculator launch, the questions are taken sequentially beginning with the first question. This rule apply also when the stored values are taken into account. The prompt, explanation and value are displayed. The user can then decide if he want to keep the stored value or cancel the value and reenter a  new one.


Instructions for gemini:
1. Confirm and synthetise the problems encountered
2. Confirm the assistant solution
3. Ask for precisions when solution miss some points or is difficult to implement
4. Propose improvements to the assistant : user friendliness, ease of implementation in vanilla javascript (avoid libraries)
5. Wait for implementation acceptance
6. Implement solution

------------------
gemini,
I changed my mind regarding the input fields value= "0" versus placeholder="0" for the questions of sections 1 and 2. The advantage of value="0" is that there is nor error signaled when the user hits RETURN without entering a value, but for instance a Revenu of 0 CHF is highly improbable and would result in calculation with wrong values. It is much better to force the user to enter a value also when this value is 0. At least, this entering is done with full knowledge rather than in inadvertance. Thus, my new requirements:
1. For all the fields of section 1 and 2, the fields are empty (empty string or empty selection for combobox)
2. The placeholders are used to display an instruction, ie "Saisir la valeur de l'avis de taxation code 4.910" for section 2 or for section 1 "Saisir l'année de calcul, par exemple: 2026", etc.
3. The script checks for plausability and warn user by errors, ie negative Revenu, etc.
4. When the user click "Calculer", the script checks if all the fields have been filled up. If not, he sends a warning "Veuillez remplir les champs marqués en rouge", then change the color of the placeholders in red for the empty fields / not selected fields
5. When all the fields are fillfulled (not empty), the section 3 is displayed with the results.

Security requirements:
1. No values are locally stored by default (for confidentiality reasons)
2. The values are stored only when the user click the button "Sauvegarder localement" ( the user decides to store value with full consciounnes)
3. By launching or by refreshing the calculator, a banner signals that values were locally stored and asks the user if he want to use these values. By positive answer, the recorded values are written in the corresponding fields. By negative answer, the local stored values are deleted.
4. The button "Charger les données" is no longer necessary because the question is asked by the banner at each start or refresh

Assistant requirements:
1. The assistant goes systematically by each question (value field empty or filled with restored values or filled by a previous assistant action)
2. When all the fields are filled up, it confirms that the filling up is complete and that the user should now click on "Calculer" to calculate the orime reduction.

Section 3 requirements:
1. As long as thdpe calculate button is not pressed, the section 3 has empty values, not values from previous calculations
2. When the user change any value in assisted or direct mode, the section 3 values are deleted (empty results), making sure that the results from previous values is not understood as current result with displayed values (values are changed, but the sectiin 3 displays results from previous values)

Help requirements:
1. The help icons are displayed only for the direct mode
2. In assistant mode, the help icons are not recessary because the help text is allready displayed
3. The Help icons are active in the direct mode. As soon the user quits the assistant, the help icons are activated and display help text by clicking on them.

Instructions for gemini:
1. Ask for precisions when solution miss some points or is difficult to implement
2. Propose improvements : user friendliness, ease of implementation in vanilla javascript (avoid libraries)
3. Wait for implementation acceptance
4. Implement solution